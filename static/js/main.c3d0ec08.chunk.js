(this["webpackJsonpsav-food-app"]=this["webpackJsonpsav-food-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},46:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(30),s=n.n(r),o=n(7),i=(n(38),n(2)),l=(n(39),n(3)),j=n(4);n(40);function d(e){return/\d+/g.test(e)?"ne peut pas contenir des nombres !":e.length>12?"Trop long !":null}function p(e){return!e.includes("@")&&e.length>14?"Format d'e-mail invalide !":null}function u(e){return e.length>10?"Num\xe9ro de t\xe9l\xe9phone invalide !":null}function b(e){return parseInt(e)>30||e.length>2?"jour invalide !":null}function m(e){return parseInt(e)>12||e.length>2?"mois invalide !":null}function h(e){var t=parseInt(e);return t>2003||t<1900||e.length>4?"ann\xe9e invalide !":null}function O(e,t,n,a,c,r,s,o){if(!(d(e)||d(t)||p(n)||u(a)||u(c)||b(r)||m(s)||h(o)))return!0}function x(e,t,n,a,c,r,s){if(!(e&&t&&n&&a&&c&&r&&s))return!0}var f,g,v,y,M,C=n(9),N=n(10),w=N.a.input(f||(f=Object(C.a)(["\n  border: 2px solid #808080;\n  border-radius: 0.75em;\n  background: #f4f4f4;\n  font-size: 14px;\n  font-family: Poppins;\n  display: block;\n  width: 215px;\n  margin: 0.25em 1em 0em 0.25em;\n  padding: 1em;\n  &:focus {\n    outline: none !important;\n    border: 2px solid #662483;\n    box-shadow: 0 0 2px #a84fcf;\n  }\n  &:hover {\n    background: white;\n  }\n"]))),S=Object(N.a)(w)(g||(g=Object(C.a)(["\n  width: 480px;\n"]))),k=Object(N.a)(S)(v||(v=Object(C.a)(["\n  width: 125px;\n"]))),F=(Object(N.a)(S)(y||(y=Object(C.a)(["\n  font-weight: bold;\n  width: 135px;\n  color: #ef7d00;\n  &:hover {\n    cursor: pointer;\n    background: #dadada;\n  }\n"]))),Object(N.a)(o.b)(M||(M=Object(C.a)(["\n  border: 2px solid #808080;\n  border-radius: 0.75em;\n  background: #f4f4f4;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  font-weight: bold;\n  width: 135px;\n  color: #ef7d00;\n  margin: 0.25em 1em 0em 0.25em;\n  padding: 1em;\n  &:focus {\n    outline: none !important;\n    border: 2px solid #662483;\n    box-shadow: 0 0 2px #a84fcf;\n  }\n  &:hover {\n    cursor: pointer;\n    background: #dadada;\n  }\n"])))),T=n(0);var E=function(){var e=Object(i.f)(),t=Object(a.useState)({prenom:"",nom:"",sexe:"HOMME",date:{jour:"",mois:"",annee:""},email:"",tel:"",telFixe:""}),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)("moi"),o=Object(j.a)(s,2),f=o[0],g=o[1],v={prenom:c.prenom,nom:c.nom,sexe:c.sexe,email:c.email,tel:c.tel,telFixe:c.telFixe,dateNaiss:"".concat(c.date.annee,"-").concat(c.date.mois,"-").concat(c.date.jour),password:"default"};return Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{children:"Je cr\xe9e mon compte "}),Object(T.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e("/sign-up-mdp",{state:{userToRegister:v}})},children:[Object(T.jsxs)("p",{className:"pContent",children:[Object(T.jsxs)("label",{style:{marginRight:"40px",marginTop:"35px",marginBottom:"20px"},children:["Homme ",Object(T.jsx)("input",{type:"radio",name:"sexe",value:"HOMME",checked:"HOMME"===c.sexe,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{sexe:e.currentTarget.value}))}})]}),Object(T.jsxs)("label",{style:{marginTop:"35px",marginBottom:"20px"},children:["Femme ",Object(T.jsx)("input",{type:"radio",name:"sexe",value:"FEMME",checked:"FEMME"===c.sexe,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{sexe:e.currentTarget.value}))}})]})]}),Object(T.jsxs)("p",{className:"pContent",children:[Object(T.jsxs)("label",{children:["Pr\xe9nom * ",Object(T.jsx)(w,{type:"text",placeholder:"prenom",value:c.prenom,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{prenom:e.target.value}))}}),Object(T.jsxs)("span",{children:[d(c.prenom)," \xa0"]})]}),Object(T.jsxs)("label",{children:["Nom * ",Object(T.jsx)(w,{type:"text",placeholder:"nom",value:c.nom,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{nom:e.target.value}))}}),Object(T.jsx)("span",{children:d(c.nom)})]})]}),Object(T.jsx)("p",{className:"pContent",children:Object(T.jsxs)("label",{children:["Adresse e-mail * ",Object(T.jsx)(S,{type:"text",placeholder:"e-mail",value:c.email,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{email:e.target.value}))}}),Object(T.jsxs)("span",{children:[p(c.email)," \xa0"]})]})}),Object(T.jsxs)("p",{className:"pContent",children:[Object(T.jsxs)("label",{children:["t\xe9l\xe9phone portable * ",Object(T.jsx)(w,{type:"number",placeholder:"tel portable",value:c.tel,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{tel:e.target.value}))}}),Object(T.jsxs)("span",{children:[u(c.tel)," \xa0"]})]}),Object(T.jsxs)("label",{children:["t\xe9l\xe9phone fixe  ",Object(T.jsx)(w,{type:"number",placeholder:"tel fixe",value:c.telFixe,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{telFixe:e.target.value}))}}),Object(T.jsx)("span",{children:u(c.telFixe)})]})]}),Object(T.jsxs)("section",{className:"sectionContent",children:["Date de naissance "," "]}),Object(T.jsxs)("p",{className:"pContent",children:[Object(T.jsxs)("label",{children:["Jour  *",Object(T.jsx)(k,{type:"number",placeholder:"JJ",value:c.date.jour,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{date:Object(l.a)(Object(l.a)({},c.date),{},{jour:e.target.value})}))}}),Object(T.jsxs)("span",{children:[b(c.date.jour)," \xa0"]})]}),Object(T.jsxs)("label",{children:["Mois  *",Object(T.jsx)(k,{type:"number",placeholder:"MM",value:c.date.mois,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{date:Object(l.a)(Object(l.a)({},c.date),{},{mois:e.target.value})}))}}),Object(T.jsx)("span",{children:m(c.date.mois)})]}),Object(T.jsxs)("label",{children:["Ann\xe9e *",Object(T.jsx)(k,{type:"number",placeholder:"AAAA",value:c.date.annee,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{date:Object(l.a)(Object(l.a)({},c.date),{},{annee:e.target.value})}))}}),Object(T.jsx)("span",{children:h(c.date.annee)})]})]}),Object(T.jsx)("h4",{children:"Pour qui passez-vous commande"}),Object(T.jsxs)("p",{className:"pContent",children:[Object(T.jsxs)("label",{field:"Je commande pour moi-m\xeame ",className:"radioStyled",children:[Object(T.jsx)("input",{type:"radio",name:"moi",checked:"moi"===f,onChange:function(e){g("moi")}}),"Je commande pour moi-m\xeame "]}),Object(T.jsxs)("label",{className:"radioStyled",children:[Object(T.jsx)("input",{type:"radio",value:"proche",checked:"proche"===f,onChange:function(e){return g("proche")}}),"Je commande pour un proche "]})]}),Object(T.jsx)("p",{className:"pContent",children:Object(T.jsx)(w,{type:"submit",style:{cursor:"pointer",color:"#ef7d00",fontWeight:"bold",marginTop:"30px"},disabled:!O(c.prenom,c.nom,c.email,c.tel,c.telFixe,c.date.jour,c.date.mois,c.date.annee)||x(c.prenom,c.nom,c.email,c.tel,c.date.jour,c.date.mois,c.date.annee),value:"Valider mon compte"})})]})]})},A=n(14),I=n(8),J=n.n(I),P=(n(46),n.p+"static/media/mlrLogo.61109c2f.png");function L(e){return!!/\d+/.test(e)}function B(e){return!!/[|\\/~^:,;?!&%$@*{}+]/.test(e)}function D(e){if(/[a-z]/.test(e))return!0}function R(e){if(/[A-Z]/.test(e))return!0}var W=n(15),H=n.n(W),z=n(11);var q=function(){var e,t,n,c=Object(T.jsx)(z.b,{}),r=Object(T.jsx)(z.c,{}),s=Object(T.jsx)(z.a,{style:{color:"green"}}),o=Object(T.jsx)(z.d,{style:{color:"red"}}),d=Object(a.useState)({initMdp:"",verifMdp:""}),p=Object(j.a)(d,2),u=p[0],b=p[1],m=Object(a.useState)(!0),h=Object(j.a)(m,2),O=h[0],x=h[1],f=Object(a.useState)(!0),g=Object(j.a)(f,2),v=g[0],y=g[1],M=Object(i.e)(),C=Object(i.f)();function N(){return(N=Object(A.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"http://localhost:8080/api/clients",n=M.state.userToRegister,t.preventDefault(),H.a.post("".concat("http://localhost:8080/api/clients","/authentication/sign-up"),Object(l.a)(Object(l.a)({},n),{},{password:u.initMdp})).then((function(e){console.log("jeton de mail : ".concat(e.data)),C("/")})).catch((function(e){e.response&&alert("l'erreur : ".concat(e.response.data.message," a emp\xeache le bon fonctionnement de cette page"))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"eltParent",children:Object(T.jsx)("img",{src:P,width:"320px",height:"69px",alt:"not-found"})}),Object(T.jsxs)("form",{className:"eltFilsMdp",onSubmit:function(e){return N.apply(this,arguments)},children:[Object(T.jsx)("span",{className:"titreStyleMdp",children:"Nouveau mot de passe"}),Object(T.jsx)("p",{className:"pMdp",children:Object(T.jsxs)("label",{children:["Mot de passe ",Object(T.jsx)(w,{type:O?"password":"text",placeholder:"Mot de passe",value:u.initMdp,onChange:function(e){return b(Object(l.a)(Object(l.a)({},u),{},{initMdp:e.target.value}))}}),Object(T.jsx)("i",{className:"eyeWrapper",onClick:function(){return x(!O)},children:O?r:c})]})}),Object(T.jsx)("p",{className:"pMdp",children:Object(T.jsxs)("label",{children:["Confirmation du mot de passe ",Object(T.jsx)(w,{type:v?"password":"text",placeholder:"mot de passe",value:u.verifMdp,onChange:function(e){return b(Object(l.a)(Object(l.a)({},u),{},{verifMdp:e.target.value}))}}),Object(T.jsx)("i",{className:"eye2Wrapper",onClick:function(){return y(!v)},children:v?r:c})]})}),Object(T.jsx)("br",{}),Object(T.jsxs)("ul",{style:{listStyleType:"none",textAlign:"left",marginLeft:"-33px",paddingTop:"10px",paddingBottom:"18px",backgroundColor:"#f4f4f4"},children:[Object(T.jsx)("b",{children:"Votre mot de passe doit contenir :"}),Object(T.jsx)("li",{children:" \xa0 "}),Object(T.jsxs)("li",{children:[(n=u.initMdp,n.length<8?o:s)," 8 caract\xe8res minimum"]}),Object(T.jsxs)("li",{children:[L(u.initMdp)?s:o," 1 chiffre minimum"]}),Object(T.jsxs)("li",{children:[B(u.initMdp)?s:o," 1 caract\xe8re sp\xe9cial (!@*,) minimum"]}),Object(T.jsxs)("li",{children:[R(u.initMdp)?s:o," 1 Majuscule"]}),Object(T.jsxs)("li",{children:[D(u.initMdp)?s:o," 1 Miniscule"]}),Object(T.jsxs)("li",{children:[(e=u.initMdp,t=u.verifMdp,e===t&&""!==e&&""!==t?s:o),"Les mots de passe sont identiques"]})]}),Object(T.jsx)("p",{style:{marginLeft:"45px",marginTop:"30px"},children:Object(T.jsx)(w,{style:{cursor:"pointer",color:"#ef7d00",fontWeight:"bold"},type:"submit",value:"Enregistrer mot de passe"})})]})]})};n(64);var V=function(){var e={email:"",mdp:""},t=Object(a.useState)(e),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!0),o=Object(j.a)(s,2),i=(o[0],o[1]);function d(){return(d=Object(A.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"http://localhost:8080/api/clients",n.preventDefault(),H.a.post("".concat("http://localhost:8080/api/clients","/authentication/login"),{email:c.email,mdp:c.mdp}).then((function(e){localStorage.setItem("token",e.data),localStorage.setItem("username",c.email),console.log("jeton de connexion : ".concat(localStorage.getItem("token"))),console.log("username : ".concat(localStorage.getItem("username")))})).catch((function(e){e.response.data,e.response&&(400===e.response.status?alert("erreur : ".concat(e.response.data)):alert("erreur : ".concat(e.response.data.message)))})),r(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"eltParent",children:Object(T.jsxs)("p",{style:{display:"flex"},children:[Object(T.jsx)("label",{style:{marginTop:"0.75em",marginRight:"0.5em"},children:"Pas encore inscrit ?"}),Object(T.jsx)(F,{to:"/sign-up",children:"Cr\xe9er compte"}),Object(T.jsx)(F,{to:"#",children:"Retour"})]})}),Object(T.jsxs)("form",{className:"eltFils",onSubmit:function(e){return d.apply(this,arguments)},children:[Object(T.jsx)("img",{src:P,width:"255px",height:"55px",alt:"not-found"}),Object(T.jsx)("br",{}),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("span",{className:"titreStyle",children:"Se connecter "}),Object(T.jsx)("p",{children:Object(T.jsxs)("label",{children:["Adresse e-mail ",Object(T.jsx)(w,{type:"text",placeholder:"E-mail",value:c.email,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{email:e.target.value}))},onMouseEnter:function(){return i(!1)}})]})}),Object(T.jsx)("p",{children:Object(T.jsxs)("label",{children:["Mot de passe ",Object(T.jsx)(w,{type:"password",placeholder:"Mot de passe",value:c.mdp,onChange:function(e){return r(Object(l.a)(Object(l.a)({},c),{},{mdp:e.target.value}))}})]})}),Object(T.jsxs)("p",{style:{marginLeft:"15px",marginTop:"30px"},children:[Object(T.jsx)("a",{href:"#",children:"Mot de passe oubli\xe9"}),Object(T.jsx)(w,{style:{cursor:"pointer",color:"#ef7d00",fontWeight:"bold"},type:"submit",value:"Se connecter",onClick:function(){return i(!0)}})]})]})]})]})};var Z=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(i.c,{children:[Object(T.jsx)(i.a,{path:"/",element:Object(T.jsx)(V,{})}),Object(T.jsx)(i.a,{path:"sign-up",element:Object(T.jsx)(E,{})}),Object(T.jsx)(i.a,{path:"sign-up-mdp",element:Object(T.jsx)(q,{})})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(o.a,{basename:"/pj-sav-food",children:Object(T.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[65,1,2]]]);
//# sourceMappingURL=main.c3d0ec08.chunk.js.map